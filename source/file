#!/usr/bin/env Rscript


args <- commandArgs(trailingOnly = T)
if (length(args) != 3) {
    stop("Usage: file <configuration.conf> <requested_file> <output_file>")
}
source(file.path(Sys.getenv("MEASUREITHOME"), "common/configuration.R"))

data_file = read.table(conf("modules.source.params.data_file"))
requested_file = read.table(args[2])
merged = merge(requested_file, data_file)
write.table(merged, args[3], sep=" ", quote=F, col.names=F, row.names=F)
